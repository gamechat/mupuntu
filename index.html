<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Mupuntu.JS by gamechat</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Mupuntu.JS</h1>
        <h2>Game Development on Gamechat</h2>
        <a href="https://github.com/gamechat/mupuntu" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="javascript-game-development-framework" class="anchor" href="#javascript-game-development-framework" aria-hidden="true"><span class="octicon octicon-link"></span></a>JAVASCRIPT GAME DEVELOPMENT FRAMEWORK</h1>

<h2>
<a id="gamechat" class="anchor" href="#gamechat" aria-hidden="true"><span class="octicon octicon-link"></span></a>GAMECHAT</h2>

<p>The gamechat App provides a peer-to-peer instant gaming and chat experience on the Android OS.</p>

<p>it extends existing instant mobile messaging apps, giving them gaming capability. Users challenge or invite their friends on Whatsapp, etc as well as their contact list to play games (Just like old times).</p>

<h2>
<a id="mupuntujs---how-it-works" class="anchor" href="#mupuntujs---how-it-works" aria-hidden="true"><span class="octicon octicon-link"></span></a>MUPUNTU.JS - HOW IT WORKS</h2>

<p>The Mupuntu.js Framework takes care of all peer-to-peer connections (networking) including data storage, data exchange, user authentication and management, while letting developers concentrate their forces on their game logic. This makes porting an existing HTML5 a breeze and creating new games an exciting adventure. Mupuntu.js Framework does not impose any HTML5 javascript game library. Developers can import any javascript framework they like including stylesheets (CSS) and without restriction whatsoever.</p>

<p>Mupuntu.js focuses on the following objectives:</p>

<ul>
<li>Port existing HTML5 games to the gamechat platform in less than an hour</li>
<li>To bring two-players HTML5 games to the hands of thousands of users worldwide</li>
<li>Reward HTML5 game developers.</li>
</ul>

<p>You can import any powerful javascript library you want.</p>

<p>Lastly, No server-side coding. We do believe you can develop games without it!</p>

<h2>
<a id="game-life-cycle" class="anchor" href="#game-life-cycle" aria-hidden="true"><span class="octicon octicon-link"></span></a>GAME LIFE CYCLE</h2>

<p>Every living thing has a life cycle. As for the humans, they are born, grow and then die. Since apps are created in a man's image they do too. If you have created any apps with j2me or android you have seen that every app as a life cycle and the mupun framework is not an exception. </p>

<p>There are basically four (4) methods to override or drop your code into and voila! your game is done.</p>

<ul>
<li>Init()</li>
<li>sleep()</li>
<li>wake()</li>
<li>die()</li>
</ul>

<div class="highlight highlight-javascript"><pre><span class="pl-c">/* </span>
<span class="pl-c">* @Author       Daser Retnan &lt;dretnan@acm.org&gt; </span>
<span class="pl-c">* @Date         Thu 10 August 2014 08:50:32 PM GMT </span>
<span class="pl-c">* @Description:     My Game Logic </span>
<span class="pl-c">*/</span> 
GAMECHAT.GAME.createGamePlay(<span class="pl-s"><span class="pl-pds">"</span>APPID-8495372645<span class="pl-pds">"</span></span>, { 

    <span class="pl-c">/* </span>
<span class="pl-c">    * @Method init</span>
<span class="pl-c">    * @Description init hook [Compulsory] </span>
<span class="pl-c">    *   Initialize, Bootstrap and create your game here</span>
<span class="pl-c">    */</span> 
    <span class="pl-en">init</span> : <span class="pl-k">function</span>(){ 

    }, 

    <span class="pl-c">/* </span>
<span class="pl-c">    * @Method       sleep </span>
<span class="pl-c">    * @Description  The sleep hook [Compulsory] </span>
<span class="pl-c">    *   This method is called when user navigates away from the display </span>
<span class="pl-c">    */</span> 

    <span class="pl-en">sleep</span> : <span class="pl-k">function</span> (){ 

    }, 

    <span class="pl-c">/* </span>
<span class="pl-c">    * @Method       wake </span>
<span class="pl-c">    * @Description  The wake hook [Compulsory] </span>
<span class="pl-c">    *   This method is called when user navigates back to the game screen </span>
<span class="pl-c">    */</span> 

    <span class="pl-en">wake</span> : <span class="pl-k">function</span> (){ 

    }, 

    <span class="pl-c">/* </span>
<span class="pl-c">    * @Method       die </span>
<span class="pl-c">    * @Description  The die hook [Compulsory] </span>
<span class="pl-c">    *   This method is called when user exits the app </span>
<span class="pl-c">    */</span> 

    <span class="pl-en">die</span> : <span class="pl-k">function</span> (){ 

    }, 

});</pre></div>

<h2>
<a id="mupuntujs-api" class="anchor" href="#mupuntujs-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>MUPUNTU.JS API</h2>

<h1>
<a id="display-size" class="anchor" href="#display-size" aria-hidden="true"><span class="octicon octicon-link"></span></a>Display Size</h1>

<p>Get the entire available drawable width of the screen</p>

<div class="highlight highlight-javascript"><pre><span class="pl-v">this</span>.getScreen().getWidth();</pre></div>

<p>Get the entire available drawable height of the screen</p>

<div class="highlight highlight-javascript"><pre><span class="pl-v">this</span>.getScreen().getHeight();</pre></div>

<h1>
<a id="game-players-info" class="anchor" href="#game-players-info" aria-hidden="true"><span class="octicon octicon-link"></span></a>Game Player's Info</h1>

<p>Get the Local User Object</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> uObject <span class="pl-k">=</span> <span class="pl-v">this</span>.getLocalUser();
<span class="pl-en">console</span><span class="pl-c1">.log</span>(uObject.displayName);
<span class="pl-en">console</span><span class="pl-c1">.log</span>(uObject.playerID);</pre></div>

<p>get the Remote User Object</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> ruObject <span class="pl-k">=</span> <span class="pl-v">this</span>.getRemoteUser();
<span class="pl-en">console</span><span class="pl-c1">.log</span>(ruObject.displayName);
<span class="pl-en">console</span><span class="pl-c1">.log</span>(ruObject.playerID);</pre></div>

<h1>
<a id="database-support" class="anchor" href="#database-support" aria-hidden="true"><span class="octicon octicon-link"></span></a>Database Support</h1>

<p>Provides database support. local and remote model syncing. Gamechat provides two data storages: the gamestate object for saving gamestates and the scoreboard object for storing scores, leaderboard and some useful game configurations. The gamestate and scoreboard object is passed as a single parameters to the provided callback. </p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// this.getModels(callback, context);</span>
<span class="pl-v">this</span>.getModels(<span class="pl-k">function</span>(<span class="pl-smi">gamedata</span>){
    _gamestateModel <span class="pl-k">=</span> gamedata.gamestate;
    _scoreboardModel <span class="pl-k">=</span> gamedata.scoreboard;
}, <span class="pl-v">this</span>);</pre></div>

<h3>
<a id="two-available-data-storage" class="anchor" href="#two-available-data-storage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Two Available Data Storage</h3>

<ul>
<li>The gamestate object – should be used for storing your game state</li>
<li>The scoreboard object – should be used for storing your game configurations, scores or global states that persists across updates and uninstallations.</li>
</ul>

<h3>
<a id="how-to-store-data-in-the-database" class="anchor" href="#how-to-store-data-in-the-database" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to store Data in the database</h3>

<p>You can store key value pair (json or javascript objects)</p>

<div class="highlight highlight-javascript"><pre>_gamestateModel.set(<span class="pl-s"><span class="pl-pds">'</span>turn<span class="pl-pds">'</span></span>, {player<span class="pl-k">:</span> “XXXXXX”});
_scoreboardModel.set(<span class="pl-s"><span class="pl-pds">'</span>totalgames<span class="pl-pds">'</span></span>, <span class="pl-c1">0</span>);</pre></div>

<p>You can store javascript or json objects in the database</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> gamemove <span class="pl-k">=</span> {}; 
gamemove.gameboard <span class="pl-k">=</span> {}; 
gamemove.gameboard[position] <span class="pl-k">=</span> {}; 
gamemove.gameboard[position].<span class="pl-c1">status</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>; 
gamemove.gameboard[position].player <span class="pl-k">=</span> playerId;

_gamestateModel.set(gamemove);</pre></div>

<h2>
<a id="how-to-listen-for-changes-in-the-state-of-the-model" class="anchor" href="#how-to-listen-for-changes-in-the-state-of-the-model" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to listen for changes in the state of the model</h2>

<p>You can register listeners on any parameters that change in the model as follows:</p>

<div class="highlight highlight-javascript"><pre>_gamestateModel.onChangeEventListener(“gameboard.turn”,callback, context);

_gamestateModel.onChangeEventListener(“gameboard.moves”,callback,
context);</pre></div>

<h2>
<a id="how-to-remove-the-default-splash-screen" class="anchor" href="#how-to-remove-the-default-splash-screen" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to remove the default splash screen</h2>

<div class="highlight highlight-javascript"><pre><span class="pl-v">this</span>.removeSplash();</pre></div>

<h2>
<a id="how-to-get-the-database" class="anchor" href="#how-to-get-the-database" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to get the database</h2>

<p>this.getGamestateModel() returns the gamestate object or returns undefined if it's not available. It is recommended to use  getModels method when you are not sure if it's available or not.</p>

<div class="highlight highlight-javascript"><pre>_gamestateModel <span class="pl-k">=</span> <span class="pl-v">this</span>.getGamestateModel();</pre></div>

<p>this.getScoreboardModel() - returns the scoreboard object or returns undefined if it's not available. It is recommended to use getModels method when you are not sure if it's available or not.</p>

<div class="highlight highlight-javascript"><pre>_scoreboardModel <span class="pl-k">=</span> <span class="pl-v">this</span>.getScoreboardModel();</pre></div>

<h2>
<a id="how-to-know-when-user-goes-offline-and-offline" class="anchor" href="#how-to-know-when-user-goes-offline-and-offline" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to know when user goes offline and offline</h2>

<p>This enables us to write real-time games, where the presence of the participants is crucial to play the game.
this.addEventListener(eventType, callback)</p>

<p>eventTypes: “gc:user-offline” or “gc:user-online”</p>

<p>callback: method to call when the event occurs</p>

<div class="highlight highlight-javascript"><pre><span class="pl-v">this</span>.addEventListener(<span class="pl-s"><span class="pl-pds">"</span>gc:user-online<span class="pl-pds">"</span></span>, <span class="pl-k">function</span>(){
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">"</span>local user is back online<span class="pl-pds">"</span></span>);
});
<span class="pl-v">this</span>.addEventListener(<span class="pl-s"><span class="pl-pds">"</span>gc:user-offline<span class="pl-pds">"</span></span>, <span class="pl-k">function</span>(){
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">"</span>local user has gone offline<span class="pl-pds">"</span></span>);
});
<span class="pl-v">this</span>.addEventListener(<span class="pl-s"><span class="pl-pds">"</span>gc:remote-online<span class="pl-pds">"</span></span>, <span class="pl-k">function</span>(){
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">"</span>remote user is back online<span class="pl-pds">"</span></span>);
});
<span class="pl-v">this</span>.addEventListener(<span class="pl-s"><span class="pl-pds">"</span>gc:remote-offline<span class="pl-pds">"</span></span>, <span class="pl-k">function</span>(){
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">"</span>remote user has gone offline<span class="pl-pds">"</span></span>);
});</pre></div>

<p>You can stop listening anytime with this.removeEventListener(eventType)</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// These unsubscribes to the two subscribed events</span>
<span class="pl-v">this</span>.removeEventListener(<span class="pl-s"><span class="pl-pds">"</span>gc:user-online<span class="pl-pds">"</span></span>);
<span class="pl-v">this</span>.removeEventListener(<span class="pl-s"><span class="pl-pds">"</span>gc:user-offline<span class="pl-pds">"</span></span>);</pre></div>

<h2>
<a id="how-to-create-a-custom-event" class="anchor" href="#how-to-create-a-custom-event" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to create a custom Event</h2>

<p>Custom event allows you to trigger events from a local user to be caught by the remote user. </p>

<p>A custom event is a mechanism that allow communication between the two users playing the game directly events triggered or sent here are fired on the remote device. </p>

<p>The event sent from the local is not fired on the local device. This means you can create a game absolutely     without needing to store gamestate, but keeping state is recommended so as to resume games that was left unfinished.</p>

<ul>
<li>this.triggerEvent(eventType, data)</li>
</ul>

<p>eventType is the event name to fire (excluding the 'triggerer')</p>

<p>data is the data to send along which is received by the callback</p>

<div class="highlight highlight-javascript"><pre><span class="pl-v">this</span>.triggerEvent(<span class="pl-s"><span class="pl-pds">"</span>reset-game<span class="pl-pds">"</span></span>, <span class="pl-c1">true</span>);</pre></div>

<ul>
<li>this.listenTo(eventType, callback, context)</li>
</ul>

<p>eventType: an abitrary event to subscribe for</p>

<div class="highlight highlight-javascript"><pre><span class="pl-v">this</span>.listenTo(<span class="pl-s"><span class="pl-pds">"</span>reset-game<span class="pl-pds">"</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">data</span>){
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">"</span>We got an event fired by a remote device:<span class="pl-pds">"</span></span>);
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">"</span>remote device said: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> data);
} <span class="pl-v">this</span>);</pre></div>

<ul>
<li>this.stopListeningTo(eventType)</li>
</ul>

<p>eventType is the eventType to unsubscribe</p>

<div class="highlight highlight-javascript"><pre><span class="pl-v">this</span>.stopListeningTo(<span class="pl-s"><span class="pl-pds">"</span>reset-game<span class="pl-pds">"</span></span>);</pre></div>

<h2>
<a id="preinstalled-javascript-libraries" class="anchor" href="#preinstalled-javascript-libraries" aria-hidden="true"><span class="octicon octicon-link"></span></a>PREINSTALLED JAVASCRIPT LIBRARIES</h2>

<p>Gamechat uses the following libraries internally and can be used by developers as well without doing anything extra.</p>

<ul>
<li>Jquery.js, </li>
<li>Underscore.js and</li>
<li>Backbone.js</li>
</ul>

<h2>
<a id="samples" class="anchor" href="#samples" aria-hidden="true"><span class="octicon octicon-link"></span></a>SAMPLES</h2>

<p>Find simple games developed with the mupuntujs framework:</p>

<ul>
<li>
<a href="https://github.com/gamechat/mupuntu-games/tree/master/APPID-9381989197">Tic Tac Toe - Colorful</a>
<img src="https://raw.githubusercontent.com/gamechat/mupuntu-games/master/APPID-9381989197/.res/small.png" alt="Tic Tac Toe Colourful">
</li>
<li>
<a href="https://github.com/gamechat/mupuntu-games/tree/master/APPID-3119528364">2-Player Word Puzzle</a>
<img src="https://raw.githubusercontent.com/gamechat/mupuntu-games/master/APPID-3119528364/.res/small.png" alt="Cross Word Puzzle">
</li>
<li>
<a href="https://github.com/gamechat/mupuntu-games/tree/master/APPID-7629393118">King Solomon's Treasure Hunt</a>
<img src="https://raw.githubusercontent.com/gamechat/mupuntu-games/master/APPID-7629393118/.res/small.png" alt="King Solomon's Treasure Hunt">
</li>
</ul>

<h2>
<a id="web-ide" class="anchor" href="#web-ide" aria-hidden="true"><span class="octicon octicon-link"></span></a>WEB IDE</h2>

<p>The web Integrated Development Environment (IDE) simplifies the development of games, it also include an emulator.</p>

<p>Since gamechat is a two-player game platform, there are two players emulations named as Alice and Bob</p>

<ul>
<li><a href="http://mupuntu.com">Mupuntu.JS Web IDE</a></li>
</ul>

<h2>
<a id="android-emulator" class="anchor" href="#android-emulator" aria-hidden="true"><span class="octicon octicon-link"></span></a>Android Emulator</h2>

<p>Nothing is as good as Developing and Testing your game on a real device. Update your code on the mupuntu.com website, then see it in action on your device.</p>

<ul>
<li><a href="https://play.google.com/apps/testing/com.mupuntu.gamechat">Download Android Emulator</a></li>
</ul>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/gamechat/mupuntu/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/gamechat/mupuntu/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/gamechat/mupuntu"></a> is maintained by <a href="https://github.com/gamechat">gamechat</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-61477751-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
